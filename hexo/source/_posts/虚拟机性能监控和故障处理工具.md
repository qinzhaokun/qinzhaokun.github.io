---
title: 虚拟机性能监和故障处理
date: 2017-7-13
categories: Java
tags: Java
---

## 概述
 
实际项目中，定位问题往往需要依赖工具，JVM虚拟机运行时生成很多数据，其中包括：运行图纸，异常堆栈，GC日志，线程快照，堆转储快照等，使用工具对这些数据进行分析，有利于加快定位问题的速度。
 
### JDK命令行工具
 
#### jps：虚拟机进程状况工具
 
jps(JVM Process Status Tool), **可列出正在运行的虚拟机进程，并显示虚拟机执行的主类名称，以及这些进程的本地虚拟机唯一的ID**。这个ID与操作系统的进程ID是一致的。
 
> jps [options] [hostid]
 
选项：
 
+ -q 仅仅输出出VM标识符，即ID
 
+ -m 输出main methiod的参数
 
+ -l 输出完全的包名，应用主类名，jar的完全路径名 

+ -v 输出jvm参数 

+ -V 输出通过flag文件传递到JVM中的参数(.hotspotrc文件或-XX:Flags=所指定的文件 

+ -Joption 传递参数到vm,例如:-J-Xms48m

```
jps -lv 127.0.0.1 //输出127.0.0.1机器上的java进程，显示jvm参数，显示完全的包名，主类名，jar完全路径,127.0.0.1主机要启动jstatd
```

#### 
